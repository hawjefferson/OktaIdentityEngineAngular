{"ast":null,"code":"import _classCallCheck from \"/Users/jeffersonhaw/Documents/CebPacAngular/samples-js-angular/okta-hosted-login/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/jeffersonhaw/Documents/CebPacAngular/samples-js-angular/okta-hosted-login/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { TOKEN_STORAGE_NAME, CACHE_STORAGE_NAME } from '../constants.js';\nimport { SavedObject } from './SavedObject.js';\nimport { isBrowser } from '../features.js';\nimport { warn } from '../util/console.js';\n\nfunction logServerSideMemoryStorageWarning(options) {\n  if (!isBrowser() && !options.storageProvider && !options.storageProvider) {\n    warn('Memory storage can only support simple single user use case on server side, please provide custom storageProvider or storageKey if advanced scenarios need to be supported.');\n  }\n}\n\nvar BaseStorageManager = /*#__PURE__*/function () {\n  function BaseStorageManager(storageManagerOptions, cookieOptions, storageUtil) {\n    _classCallCheck(this, BaseStorageManager);\n\n    this.storageManagerOptions = storageManagerOptions;\n    this.cookieOptions = cookieOptions;\n    this.storageUtil = storageUtil;\n  }\n\n  _createClass(BaseStorageManager, [{\n    key: \"getOptionsForSection\",\n    value: function getOptionsForSection(sectionName, overrideOptions) {\n      return Object.assign({}, this.storageManagerOptions[sectionName], overrideOptions);\n    }\n  }, {\n    key: \"getStorage\",\n    value: function getStorage(options) {\n      options = Object.assign({}, this.cookieOptions, options);\n\n      if (options.storageProvider) {\n        return options.storageProvider;\n      }\n\n      var _options = options,\n          storageType = _options.storageType,\n          storageTypes = _options.storageTypes;\n\n      if (storageType === 'sessionStorage') {\n        options.sessionCookie = true;\n      }\n\n      if (storageType && storageTypes) {\n        var idx = storageTypes.indexOf(storageType);\n\n        if (idx >= 0) {\n          storageTypes = storageTypes.slice(idx);\n          storageType = undefined;\n        }\n      }\n\n      if (!storageType) {\n        storageType = this.storageUtil.findStorageType(storageTypes);\n      }\n\n      return this.storageUtil.getStorageByType(storageType, options);\n    }\n  }, {\n    key: \"getTokenStorage\",\n    value: function getTokenStorage(options) {\n      options = this.getOptionsForSection('token', options);\n      logServerSideMemoryStorageWarning(options);\n      var storage = this.getStorage(options);\n      var storageKey = options.storageKey || TOKEN_STORAGE_NAME;\n      return new SavedObject(storage, storageKey);\n    }\n  }, {\n    key: \"getHttpCache\",\n    value: function getHttpCache(options) {\n      options = this.getOptionsForSection('cache', options);\n      var storage = this.getStorage(options);\n      var storageKey = options.storageKey || CACHE_STORAGE_NAME;\n      return new SavedObject(storage, storageKey);\n    }\n  }]);\n\n  return BaseStorageManager;\n}();\n\nexport { BaseStorageManager, logServerSideMemoryStorageWarning }; //# sourceMappingURL=BaseStorageManager.js.map","map":null,"metadata":{},"sourceType":"module"}