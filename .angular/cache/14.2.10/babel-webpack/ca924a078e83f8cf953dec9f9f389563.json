{"ast":null,"code":"import _classCallCheck from \"/Users/jeffersonhaw/Documents/CebPacAngular/samples-js-angular/okta-hosted-login/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/jeffersonhaw/Documents/CebPacAngular/samples-js-angular/okta-hosted-login/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/Users/jeffersonhaw/Documents/CebPacAngular/samples-js-angular/okta-hosted-login/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/jeffersonhaw/Documents/CebPacAngular/samples-js-angular/okta-hosted-login/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/jeffersonhaw/Documents/CebPacAngular/samples-js-angular/okta-hosted-login/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/jeffersonhaw/Documents/CebPacAngular/samples-js-angular/okta-hosted-login/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { Remediator } from './Remediator.js';\nimport { isAuthenticator } from '../../types/api.js';\nimport { compareAuthenticators } from '../../authenticator/util.js';\n\nvar AuthenticatorData = /*#__PURE__*/function (_Remediator) {\n  _inherits(AuthenticatorData, _Remediator);\n\n  var _super = _createSuper(AuthenticatorData);\n\n  function AuthenticatorData(remediation) {\n    var _this;\n\n    var values = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, AuthenticatorData);\n\n    _this = _super.call(this, remediation, values);\n    _this.authenticator = _this.getAuthenticator();\n\n    _this.formatAuthenticatorData();\n\n    return _this;\n  }\n\n  _createClass(AuthenticatorData, [{\n    key: \"formatAuthenticatorData\",\n    value: function formatAuthenticatorData() {\n      var _this2 = this;\n\n      var authenticatorData = this.getAuthenticatorData();\n\n      if (authenticatorData) {\n        this.values.authenticatorsData = this.values.authenticatorsData.map(function (data) {\n          if (compareAuthenticators(_this2.authenticator, data)) {\n            return _this2.mapAuthenticatorDataFromValues(data);\n          }\n\n          return data;\n        });\n      } else {\n        var data = this.mapAuthenticatorDataFromValues();\n\n        if (data) {\n          this.values.authenticatorsData.push(data);\n        }\n      }\n    }\n  }, {\n    key: \"getAuthenticatorData\",\n    value: function getAuthenticatorData() {\n      var _this3 = this;\n\n      return this.values.authenticatorsData.find(function (data) {\n        return compareAuthenticators(_this3.authenticator, data);\n      });\n    }\n  }, {\n    key: \"canRemediate\",\n    value: function canRemediate() {\n      var _this4 = this;\n\n      return this.values.authenticatorsData.some(function (data) {\n        return compareAuthenticators(_this4.authenticator, data);\n      });\n    }\n  }, {\n    key: \"mapAuthenticatorDataFromValues\",\n    value: function mapAuthenticatorDataFromValues(authenticatorData) {\n      var _this$values = this.values,\n          methodType = _this$values.methodType,\n          authenticator = _this$values.authenticator;\n\n      if (!methodType && isAuthenticator(authenticator)) {\n        methodType = authenticator === null || authenticator === void 0 ? void 0 : authenticator.methodType;\n      }\n\n      var _this$authenticator = this.authenticator,\n          id = _this$authenticator.id,\n          enrollmentId = _this$authenticator.enrollmentId;\n      var data = Object.assign(Object.assign({\n        id: id,\n        enrollmentId: enrollmentId\n      }, authenticatorData && authenticatorData), methodType && {\n        methodType: methodType\n      });\n      return data.methodType ? data : null;\n    }\n  }, {\n    key: \"getAuthenticatorFromRemediation\",\n    value: function getAuthenticatorFromRemediation() {\n      var authenticator = this.remediation.value.find(function (_ref) {\n        var name = _ref.name;\n        return name === 'authenticator';\n      });\n      return authenticator;\n    }\n  }, {\n    key: \"getValuesAfterProceed\",\n    value: function getValuesAfterProceed() {\n      var _this5 = this;\n\n      this.values = _get(_getPrototypeOf(AuthenticatorData.prototype), \"getValuesAfterProceed\", this).call(this);\n      var authenticatorsData = this.values.authenticatorsData.filter(function (data) {\n        return compareAuthenticators(_this5.authenticator, data) !== true;\n      });\n      return Object.assign(Object.assign({}, this.values), {\n        authenticatorsData: authenticatorsData\n      });\n    }\n  }]);\n\n  return AuthenticatorData;\n}(Remediator);\n\nexport { AuthenticatorData }; //# sourceMappingURL=AuthenticatorData.js.map","map":null,"metadata":{},"sourceType":"module"}